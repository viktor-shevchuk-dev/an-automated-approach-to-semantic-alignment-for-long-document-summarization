3. Якщо під час здійснення судового провадження щодо провадження, яке надійшло до суду з обвинувальним актом, втратив чинність закон, яким встановлювалася кримінальна протиправність діяння, суд зупиняє судовий розгляд і запитує згоду обвинуваченого на закриття кримінального провадження з підстави, передбаченої пунктом 4-1 частини першої статті 284 цього Кодексу. Суд закриває кримінальне провадження на цій підставі, якщо обвинувачений проти цього не заперечує. За відсутності згоди обвинуваченого та в разі, якщо судом встановлено вчинення ним діяння, кримінальна протиправність якого була встановлена законом, що втратив чинність, суд постановляє ухвалу про закриття кримінального провадження з підстави, передбаченої пунктом 1-2 частини другої статті 284 цього Кодексу. Якщо судом не встановлено, що обвинуваченим вчинено діяння, кримінальна протиправність якого була встановлена законом, що втратив чинність, суд ухвалює виправдувальний вирок.